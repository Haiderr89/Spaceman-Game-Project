/*-------------------------------- Constants --------------------------------*/
DEFINE MAX_INCORRECT_GUESSES AS 6
DEFINE ALPHABET AS ARRAY ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z"]

/*-------------------------------- Variables --------------------------------*/
INITIALIZE secretWord AS STRING (The word to guess, e.g., "RAINBOW")
INITIALIZE incorrectGuesses AS NUMBER (Start at 0)
INITIALIZE guessedLetters AS ARRAY (Empty array to hold guessed letters)

/*------------------------ Cached Element References ------------------------*/
CACHE gameModelElement AS document.querySelector(".game-model")
CACHE contentElement AS gameModelElement.querySelector(".content")
CACHE wordDisplayElement AS document.querySelector(".word-display")
CACHE guessesTextElement AS document.querySelector(".guesses-text")
CACHE keyboardElement AS document.querySelector(".keyboard")

/*----------------------------- Event Listeners -----------------------------*/
FOR EACH button IN keyboardElement
    ADD click event listener TO button
        CALL handleGuess(button.textContent)

/*-------------------------------- Functions --------------------------------*/
/* Function to initialize the game */
FUNCTION initGame()
    SET incorrectGuesses TO 0
    CLEAR guessedLetters ARRAY
    RENDER word display
    RENDER guesses text
    SHOW keyboard

/* Function to render the word display */
FUNCTION renderWordDisplay()
    CLEAR wordDisplayElement
    FOR EACH letter IN secretWord
        IF letter IS IN guessedLetters
            CREATE list item WITH letter
        ELSE
            CREATE list item WITH empty space
        APPEND list item TO wordDisplayElement

/* Function to render guesses text */
FUNCTION renderGuessesText()
    SET guessesTextElement.textContent TO "Incorrect guesses: " + incorrectGuesses + " / " + MAX_INCORRECT_GUESSES

/* Function to handle letter guesses */
FUNCTION handleGuess(letter)
    IF letter IS IN guessedLetters THEN
        RETURN // Ignore if already guessed

    ADD letter TO guessedLetters

    IF letter IS NOT IN secretWord THEN
        INCREMENT incorrectGuesses

    RENDER word display
    RENDER guesses text

    IF incorrectGuesses EQUALS MAX_INCORRECT_GUESSES THEN
        SHOW game over modal
        SET game over message
    ELSE IF ALL letters ARE GUESSED IN secretWord THEN
        SHOW win message

/* Function to show the game over modal */
FUNCTION showGameOver()
    SET contentElement.innerHTML TO "Game Over! The correct word was: " + secretWord
    SHOW gameModelElement

/* Function to show the win message */
FUNCTION showWin()
    SET contentElement.innerHTML TO "Congratulations! You've guessed the word: " + secretWord
    SHOW gameModelElement

/* Call initGame to start the game when the script runs */
CALL initGame()